package com.example.book.Screen;import android.content.Intent;import android.os.Bundle;import android.os.Handler;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import com.example.book.MainActivity;import com.example.book.R;import com.google.firebase.auth.FirebaseAuth;import com.google.firebase.auth.FirebaseUser;import com.google.firebase.database.ChildEventListener;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.DatabaseReference;import com.google.firebase.database.FirebaseDatabase;import com.google.firebase.database.annotations.Nullable;public class SplashActivity extends AppCompatActivity {    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_splash);        Handler handler = new Handler();        handler.postDelayed(new Runnable() {            @Override            public void run() {                checkLogin();            }        },3000);    }    private void checkLogin() {        FirebaseUser mUser = FirebaseAuth.getInstance().getCurrentUser();        if (mUser != null) {            //redirect to main screen            DatabaseReference mDatabase = FirebaseDatabase.getInstance().getReference("shipper");            mDatabase.addChildEventListener(new ChildEventListener() {                @Override                public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {                    if (snapshot.getKey().equals(mUser.getUid())){                        MainActivity.usernameApp = mUser.getUid();                        startActivity(new Intent(getApplicationContext(), MainActivity.class));                    }                }                @Override                public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {                }                @Override                public void onChildRemoved(@NonNull DataSnapshot snapshot) {                }                @Override                public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {                }                @Override                public void onCancelled(@NonNull DatabaseError error) {                }            });            startActivity(new Intent(SplashActivity.this, MainActivity.class));        } else {            //redirect to sign in screen            startActivity(new Intent(SplashActivity.this, SignInActivity.class));        }        //close splash screen        finish();    }}